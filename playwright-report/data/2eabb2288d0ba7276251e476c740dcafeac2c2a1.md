# Test info

- Name: SavedViewsManager Headless Component E2E Tests >> SavedViewsManager trigger button renders correctly
- Location: /Users/ryan/code-repos/github/ryanrozich/ag-grid-react-components-worktrees/feat/v2-headless-components/tests/e2e/saved-views-manager-headless.spec.ts:17:3

# Error details

```
TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
Call log:
  - waiting for locator('.ag-theme-custom') to be visible

    at /Users/ryan/code-repos/github/ryanrozich/ag-grid-react-components-worktrees/feat/v2-headless-components/tests/e2e/saved-views-manager-headless.spec.ts:8:16
```

# Page snapshot

```yaml
- banner:
  - heading "AG Grid React Components" [level=1]
  - navigation:
    - link "Home":
      - /url: /
    - link "Demo":
      - /url: /demo
    - link "Docs":
      - /url: /docs
  - button "Show version details": v0.1.0+35 feat/headless-refactor
  - img
  - text: MIT License
  - link "GitHub":
    - /url: https://github.com/ryanrozich/ag-grid-react-components
    - img
    - text: GitHub
- text: Pre-release v0.1.0 Minimal Bundle Size MIT License
- heading "AG Grid filters that understand \"today\"" [level=1]
- paragraph: If you're using AG Grid, you know users struggle with date filtering. They want "last 30 days" to mean last 30 days—tomorrow too. These open source React components make it happen.
- button "View Live Demo"
- button "Documentation"
- img "AG Grid React Components showcase - DateFilter with relative date expressions, QuickFilterDropdown with presets, and ActiveFilters display"
- text: DateFilter QuickFilterDropdown ActiveFilters
- paragraph: New UX features for AG Grid
- paragraph: AG Grid is incredibly extensible, but its filtering UX hasn't kept up with modern apps. When you have dozens of columns and dynamic data, users need better ways to filter, save, and share their views. These open source components fill that gap.
- term:
  - img
  - text: DateFilter
- definition:
  - paragraph: Let users filter by "this week", "last month", or "next quarter". These relative queries stay current and work perfectly when bookmarked or shared.
- term:
  - img
  - text: QuickFilterDropdown
- definition:
  - paragraph: Give users instant access to common filters like "Overdue tasks" or "Due this week". No more manual date picking for repetitive queries.
- term:
  - img
  - text: ActiveFilters
- definition:
  - paragraph: No more hunting for tiny blue dots. Show exactly what's filtered in clear, removable pills that users can understand at a glance.
- term:
  - img
  - text: URL State Persistence
- definition:
  - paragraph: Users can bookmark their favorite views and share them with teammates. "Last 30 days" stays last 30 days, even next month.
- paragraph: Your users understand dates differently than databases do
- heading "The Problem" [level=3]
- list:
  - listitem: × Users manually pick dates every single time
  - listitem: × "Last 30 days" becomes outdated tomorrow
  - listitem: × Can't share or bookmark filtered views
  - listitem: × Tiny blue dots hide active filters
- heading "The Solution" [level=3]
- list:
  - listitem: ✓ Relative date expressions that stay current
  - listitem: ✓ Quick filter presets for common queries
  - listitem: ✓ Shareable URLs with compressed state
  - listitem: ✓ Clear filter pills with one-click removal
- heading "The Benefit" [level=3]
- list:
  - listitem: → Users save hours on repetitive filtering
  - listitem: → Teams share consistent report views
  - listitem: → Dashboards that update automatically
  - listitem: → Happy users, fewer support tickets
- paragraph: Developer experience that just works
- paragraph: Clean APIs, zero dependencies, and thoughtful defaults. Style it your way or use it headless.
- code: "npm install ag-grid-react-components // Just add to your existing AG Grid setup import { createDateFilter } from 'ag-grid-react-components'; const DateFilter = createDateFilter(); const columnDefs = [{ field: 'dueDate', filter: DateFilter, filterParams: { defaultMode: 'relative' } }];"
- img
- heading "Start in minutes" [level=3]
- list:
  - listitem: → Single npm install
  - listitem: → Works with AG Grid Community & Enterprise
  - listitem: → TypeScript support out of the box
  - listitem: "→ Minimal bundle: starts at 25KB"
- img
- heading "Style it your way" [level=3]
- list:
  - listitem: → Headless by default
  - listitem: → CSS modules for scoped styles
  - listitem: → Override any style with className
  - listitem: → Works with Tailwind, CSS-in-JS, etc.
- img
- heading "Configure everything" [level=3]
- list:
  - listitem: → Pluggable date picker adapters
  - listitem: → Customizable date expressions
  - listitem: → Extensible filter presets
  - listitem: → Override any behavior with callbacks
- heading "Open Source" [level=2]
- paragraph: Built by the community, for the community
- paragraph: We actively encourage contributions. Found a bug? Have a feature idea? Want to improve the docs? Jump in! This project exists because developers like you make it better.
- img
- heading "Report Issues" [level=3]
- paragraph: Found a bug? Let us know on GitHub
- img
- heading "Suggest Features" [level=3]
- paragraph: Have an idea? We'd love to hear it
- img
- heading "Submit PRs" [level=3]
- paragraph: Code contributions always welcome
- link "Contribute on GitHub":
  - /url: https://github.com/ryanrozich/ag-grid-react-components
  - img
  - text: Contribute on GitHub
- contentinfo:
  - heading "AG Grid React Components" [level=3]
  - paragraph: Enterprise-ready date filtering components for AG Grid. Released under the MIT License.
  - heading "Resources" [level=3]
  - list:
    - listitem:
      - link "GitHub Repository":
        - /url: https://github.com/ryanrozich/ag-grid-react-components
    - listitem:
      - link "NPM Package":
        - /url: https://www.npmjs.com/package/ag-grid-react-components
    - listitem:
      - link "AG Grid Documentation":
        - /url: https://www.ag-grid.com/react-data-grid/
  - heading "Legal" [level=3]
  - paragraph: This project is not affiliated with AG Grid Ltd.
  - paragraph: Use at your own risk. No warranty provided.
  - paragraph: © 2025 Ryan Rozich. All rights reserved.
```

# Test source

```ts
   1 | import { test, expect } from "@playwright/test";
   2 |
   3 | test.describe("SavedViewsManager Headless Component E2E Tests", () => {
   4 |   test.beforeEach(async ({ page }) => {
   5 |     await page.goto("http://localhost:5174/");
   6 |
   7 |     // Wait for the demo to load
>  8 |     await page.waitForSelector(".ag-theme-custom", { timeout: 10000 });
     |                ^ TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
   9 |
   10 |     // Navigate to Server-Side Data tab where SavedViewsManager is used
   11 |     await page.click("text=Server-Side Data");
   12 |
   13 |     // Wait for the grid to be ready
   14 |     await page.waitForSelector("[data-saved-views-trigger]", { timeout: 5000 });
   15 |   });
   16 |
   17 |   test("SavedViewsManager trigger button renders correctly", async ({
   18 |     page,
   19 |   }) => {
   20 |     // Check that the trigger button exists
   21 |     const trigger = page.locator("[data-saved-views-trigger]");
   22 |     await expect(trigger).toBeVisible();
   23 |
   24 |     // Check that it contains the icon and text
   25 |     await expect(trigger.locator("svg[data-icon]")).toBeVisible();
   26 |     await expect(trigger.locator("[data-label]")).toHaveText("Saved Views");
   27 |
   28 |     // Check that indicator is not visible when no active view
   29 |     await expect(trigger.locator("[data-indicator]")).not.toBeVisible();
   30 |   });
   31 |
   32 |   test("SavedViewsManager panel opens and closes correctly", async ({
   33 |     page,
   34 |   }) => {
   35 |     // Click the trigger to open the panel
   36 |     await page.click("[data-saved-views-trigger]");
   37 |
   38 |     // Check that panel is visible
   39 |     const panel = page.locator("[data-saved-views-panel]");
   40 |     await expect(panel).toBeVisible();
   41 |
   42 |     // Check panel structure
   43 |     await expect(panel.locator("[data-saved-views-title]")).toHaveText(
   44 |       "Saved Views",
   45 |     );
   46 |     await expect(panel.locator("[data-saved-views-close]")).toBeVisible();
   47 |     await expect(panel.locator("[data-saved-views-actions]")).toBeVisible();
   48 |     await expect(panel.locator("[data-saved-views-list]")).toBeVisible();
   49 |
   50 |     // Check empty state
   51 |     await expect(panel.locator("[data-empty-message]")).toHaveText(
   52 |       "No saved views yet",
   53 |     );
   54 |
   55 |     // Close the panel
   56 |     await page.click("[data-saved-views-close]");
   57 |     await expect(panel).not.toBeVisible();
   58 |   });
   59 |
   60 |   test("Save view dialog opens and validates input", async ({ page }) => {
   61 |     // Open SavedViewsManager
   62 |     await page.click("[data-saved-views-trigger]");
   63 |
   64 |     // Click Save Current button
   65 |     await page.click('[data-action="save"]');
   66 |
   67 |     // Check that dialog is visible
   68 |     const dialog = page.locator("[data-save-view-dialog]");
   69 |     await expect(dialog).toBeVisible();
   70 |
   71 |     // Check dialog structure
   72 |     await expect(dialog.locator("[data-dialog-title]")).toHaveText(
   73 |       "Save Current View",
   74 |     );
   75 |     await expect(dialog.locator("[data-field-input]")).toBeVisible();
   76 |     await expect(dialog.locator("[data-field-textarea]")).toBeVisible();
   77 |
   78 |     // Check that save button is disabled when name is empty
   79 |     const saveButton = dialog.locator(
   80 |       '[data-action="save"][data-primary="true"]',
   81 |     );
   82 |     await expect(saveButton).toBeDisabled();
   83 |
   84 |     // Type a view name
   85 |     await dialog.locator("[data-field-input]").fill("Test View");
   86 |
   87 |     // Save button should now be enabled
   88 |     await expect(saveButton).toBeEnabled();
   89 |
   90 |     // Close dialog
   91 |     await dialog.locator('[data-action="cancel"]').click();
   92 |     await expect(dialog).not.toBeVisible();
   93 |   });
   94 |
   95 |   test("Can save and display a view", async ({ page }) => {
   96 |     // Apply a filter first
   97 |     const categoryCol = page
   98 |       .locator(".ag-header-cell")
   99 |       .filter({ hasText: "Category" });
  100 |     await categoryCol.locator(".ag-icon-menu").click();
  101 |
  102 |     // Wait for menu and click filter
  103 |     await page.waitForSelector(".ag-menu", { state: "visible" });
  104 |     await page.click('.ag-menu-option:has-text("Filter")');
  105 |
  106 |     // Select Bug in the filter
  107 |     await page.waitForSelector(".ag-set-filter-list", { state: "visible" });
  108 |     await page.click('.ag-set-filter-item:has-text("Bug")');
```