# Test info

- Name: Simple Filter Test >> should filter data when DateFilter is initialized with model
- Location: /Users/ryan/code-repos/github/ryanrozich/ag-grid-react-components-worktrees/ag-grid-react-components/tests/e2e/simple-filter-test.spec.ts:4:3

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: 0
Received: 71
    at /Users/ryan/code-repos/github/ryanrozich/ag-grid-react-components-worktrees/ag-grid-react-components/tests/e2e/simple-filter-test.spec.ts:88:34
```

# Page snapshot

```yaml
- banner:
  - heading "AG Grid React Components" [level=1]
  - navigation:
    - link "Home":
      - /url: /
    - link "Demo":
      - /url: /demo
    - link "Docs":
      - /url: /docs
  - button "Show version details": v0.2.0-rc1+31 fix/e2e-test-selectors
  - link "NPM":
    - /url: https://www.npmjs.com/package/ag-grid-react-components
    - img
    - text: NPM
  - link "GitHub":
    - /url: https://github.com/ryanrozich/ag-grid-react-components
    - img
    - text: GitHub
- heading "Project Tasks" [level=1]
- paragraph: Manage and track your team's progress
- navigation:
  - button "Client-Side Data"
  - button "Server-Side Data API"
  - button "Filter Presets NEW"
- textbox "Search tasks..."
- img
- button "Quick filter options":
  - text: Time period
  - img
- button "Quick filter options":
  - text: Task type
  - img
- text: "Due Date: Today"
- button "Remove Due Date filter": Ã—
- button "Clear all filters": Clear all
- button "My Views":
  - img
  - text: My Views
  - img
- button "Filter view options":
  - img
- img
- paragraph: Number of Tasks
- paragraph: "70"
- img
- paragraph: Total Budget
- paragraph: $259,100
- img
- paragraph: Average Progress
- paragraph: 38.9%
- img
- paragraph: Budget Remaining
- paragraph: $163,809
- grid:
  - rowgroup:
    - row "ID":
      - columnheader "ID"
  - rowgroup:
    - row "Column with Header Selection ï„ˆ Task Status Priority Category Assignee Due Date % Delivered Value":
      - columnheader "Column with Header Selection ï„ˆ":
        - checkbox "Column with Header Selection"
        - text: ï„ˆ
      - columnheader "Task"
      - columnheader "Status"
      - columnheader "Priority"
      - columnheader "Category"
      - columnheader "Assignee"
      - columnheader "Due Date"
      - columnheader "% Delivered"
      - columnheader "Value"
  - rowgroup:
    - row "FRONTEND-2993":
      - gridcell "FRONTEND-2993"
    - row "API-5491":
      - gridcell "API-5491"
    - row "DATA-8801":
      - gridcell "DATA-8801"
    - row "BACKEND-1256":
      - gridcell "BACKEND-1256"
    - row "BACKEND-1493":
      - gridcell "BACKEND-1493"
    - row "ADMIN-3205":
      - gridcell "ADMIN-3205"
    - row "APP-4858":
      - gridcell "APP-4858"
    - row "BACKEND-5552":
      - gridcell "BACKEND-5552"
    - row "BACKEND-6417":
      - gridcell "BACKEND-6417"
    - row "DATA-9477":
      - gridcell "DATA-9477"
    - row "UI-10755":
      - gridcell "UI-10755"
    - row "DASH-1813":
      - gridcell "DASH-1813"
    - row "API-2356":
      - gridcell "API-2356"
    - row "PROJ-3592":
      - gridcell "PROJ-3592"
    - row "PROJ-5038":
      - gridcell "PROJ-5038"
    - row "USER-2912":
      - gridcell "USER-2912"
    - row "MOBILE-4203":
      - gridcell "MOBILE-4203"
    - row "CORE-5024":
      - gridcell "CORE-5024"
    - row "FRONTEND-6740":
      - gridcell "FRONTEND-6740"
    - row "AUTH-7131":
      - gridcell "AUTH-7131"
    - row "AUTH-7205":
      - gridcell "AUTH-7205"
    - row "PROJ-8588":
      - gridcell "PROJ-8588"
    - row "USER-1549":
      - gridcell "USER-1549"
    - row "BACKEND-7842":
      - gridcell "BACKEND-7842"
  - rowgroup:
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Set up vulnerability scanning (Q1 Goals) Blocked Critical ðŸ”’ Security JL Jessica Lopez 7/9/2025 26% $4,825":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Set up vulnerability scanning (Q1 Goals)"
      - gridcell "Blocked"
      - gridcell "Critical"
      - gridcell "ðŸ”’ Security"
      - gridcell "JL Jessica Lopez"
      - gridcell "7/9/2025"
      - gridcell "26%"
      - gridcell "$4,825"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Implement API key rotation (Sprint 27) Todo Critical ðŸ”’ Security Sarah Johnson Sarah Johnson 7/9/2025 10% $5,575":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Implement API key rotation (Sprint 27)"
      - gridcell "Todo"
      - gridcell "Critical"
      - gridcell "ðŸ”’ Security"
      - gridcell "Sarah Johnson Sarah Johnson":
        - img "Sarah Johnson"
        - text: Sarah Johnson
      - gridcell "7/9/2025"
      - gridcell "10%"
      - gridcell "$5,575"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Set up vulnerability scanning (Q1 Goals) Backlog Critical ðŸ”’ Security Isabella Garcia Isabella Garcia 7/9/2025 0% $575":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Set up vulnerability scanning (Q1 Goals)"
      - gridcell "Backlog"
      - gridcell "Critical"
      - gridcell "ðŸ”’ Security"
      - gridcell "Isabella Garcia Isabella Garcia":
        - img "Isabella Garcia"
        - text: Isabella Garcia
      - gridcell "7/9/2025"
      - gridcell "0%"
      - gridcell "$575"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Create advanced search filters (Performance Sprint) Backlog Critical âœ¨ Feature Chris Martinez Chris Martinez 7/9/2025 0% $850":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Create advanced search filters (Performance Sprint)"
      - gridcell "Backlog"
      - gridcell "Critical"
      - gridcell "âœ¨ Feature"
      - gridcell "Chris Martinez Chris Martinez":
        - img "Chris Martinez"
        - text: Chris Martinez
      - gridcell "7/9/2025"
      - gridcell "0%"
      - gridcell "$850"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Write deployment guide (Q2 Planning) In Review Critical ðŸ“ Documentation JR John Robinson 7/9/2025 67% $175":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Write deployment guide (Q2 Planning)"
      - gridcell "In Review"
      - gridcell "Critical"
      - gridcell "ðŸ“ Documentation"
      - gridcell "JR John Robinson"
      - gridcell "7/9/2025"
      - gridcell "67%"
      - gridcell "$175"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Configure health checks (Sprint 25) In Progress Critical ðŸ”§ DevOps Chris Martinez Chris Martinez 7/9/2025 38% $400":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Configure health checks (Sprint 25)"
      - gridcell "In Progress"
      - gridcell "Critical"
      - gridcell "ðŸ”§ DevOps"
      - gridcell "Chris Martinez Chris Martinez":
        - img "Chris Martinez"
        - text: Chris Martinez
      - gridcell "7/9/2025"
      - gridcell "38%"
      - gridcell "$400"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Fix responsive layout on tablets (Sprint 25) Blocked Critical ðŸ› Bug EJ Emily Jackson 7/9/2025 26% $725":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Fix responsive layout on tablets (Sprint 25)"
      - gridcell "Blocked"
      - gridcell "Critical"
      - gridcell "ðŸ› Bug"
      - gridcell "EJ Emily Jackson"
      - gridcell "7/9/2025"
      - gridcell "26%"
      - gridcell "$725"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Fix date picker timezone issue Blocked High ðŸ› Bug Michael Anderson Michael Anderson 7/9/2025 21% $7,350":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Fix date picker timezone issue"
      - gridcell "Blocked"
      - gridcell "High"
      - gridcell "ðŸ› Bug"
      - gridcell "Michael Anderson Michael Anderson":
        - img "Michael Anderson"
        - text: Michael Anderson
      - gridcell "7/9/2025"
      - gridcell "21%"
      - gridcell "$7,350"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Add progressive web app features (Security Audit) Blocked Critical âš¡ Performance Maya Patel Maya Patel 7/9/2025 39% $3,725":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Add progressive web app features (Security Audit)"
      - gridcell "Blocked"
      - gridcell "Critical"
      - gridcell "âš¡ Performance"
      - gridcell "Maya Patel Maya Patel":
        - img "Maya Patel"
        - text: Maya Patel
      - gridcell "7/9/2025"
      - gridcell "39%"
      - gridcell "$3,725"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Implement API key rotation (Performance Sprint) In Progress Critical ðŸ”’ Security Ryan Thomas Ryan Thomas 7/9/2025 33% $6,950":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Implement API key rotation (Performance Sprint)"
      - gridcell "In Progress"
      - gridcell "Critical"
      - gridcell "ðŸ”’ Security"
      - gridcell "Ryan Thomas Ryan Thomas":
        - img "Ryan Thomas"
        - text: Ryan Thomas
      - gridcell "7/9/2025"
      - gridcell "33%"
      - gridcell "$6,950"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Set up monitoring alerts (Performance Sprint) In Progress Critical ðŸ”§ DevOps Sophia Taylor Sophia Taylor 7/9/2025 42% $4,250":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Set up monitoring alerts (Performance Sprint)"
      - gridcell "In Progress"
      - gridcell "Critical"
      - gridcell "ðŸ”§ DevOps"
      - gridcell "Sophia Taylor Sophia Taylor":
        - img "Sophia Taylor"
        - text: Sophia Taylor
      - gridcell "7/9/2025"
      - gridcell "42%"
      - gridcell "$4,250"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Add database indexing (Sprint 25) In Review Critical âš¡ Performance Ryan Thomas Ryan Thomas 7/9/2025 69% $2,750":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Add database indexing (Sprint 25)"
      - gridcell "In Review"
      - gridcell "Critical"
      - gridcell "âš¡ Performance"
      - gridcell "Ryan Thomas Ryan Thomas":
        - img "Ryan Thomas"
        - text: Ryan Thomas
      - gridcell "7/9/2025"
      - gridcell "69%"
      - gridcell "$2,750"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Add database indexing (Q2 Planning) Blocked Critical âš¡ Performance Isabella Garcia Isabella Garcia 7/9/2025 31% $3,250":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Add database indexing (Q2 Planning)"
      - gridcell "Blocked"
      - gridcell "Critical"
      - gridcell "âš¡ Performance"
      - gridcell "Isabella Garcia Isabella Garcia":
        - img "Isabella Garcia"
        - text: Isabella Garcia
      - gridcell "7/9/2025"
      - gridcell "31%"
      - gridcell "$3,250"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Write performance optimization tips (Sprint 23) In Progress Critical ðŸ“ Documentation JL Jessica Lopez 7/9/2025 30% $525":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Write performance optimization tips (Sprint 23)"
      - gridcell "In Progress"
      - gridcell "Critical"
      - gridcell "ðŸ“ Documentation"
      - gridcell "JL Jessica Lopez"
      - gridcell "7/9/2025"
      - gridcell "30%"
      - gridcell "$525"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Split monolithic components In Progress Critical â™»ï¸ Refactor Ryan Thomas Ryan Thomas 7/9/2025 53% $14,825":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Split monolithic components"
      - gridcell "In Progress"
      - gridcell "Critical"
      - gridcell "â™»ï¸ Refactor"
      - gridcell "Ryan Thomas Ryan Thomas":
        - img "Ryan Thomas"
        - text: Ryan Thomas
      - gridcell "7/9/2025"
      - gridcell "53%"
      - gridcell "$14,825"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Configure health checks Blocked Critical ðŸ”§ DevOps JL Jessica Lopez 7/9/2025 36% $13,250":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Configure health checks"
      - gridcell "Blocked"
      - gridcell "Critical"
      - gridcell "ðŸ”§ DevOps"
      - gridcell "JL Jessica Lopez"
      - gridcell "7/9/2025"
      - gridcell "36%"
      - gridcell "$13,250"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Implement code splitting In Progress High âš¡ Performance Sarah Johnson Sarah Johnson 7/9/2025 22% $6,500":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Implement code splitting"
      - gridcell "In Progress"
      - gridcell "High"
      - gridcell "âš¡ Performance"
      - gridcell "Sarah Johnson Sarah Johnson":
        - img "Sarah Johnson"
        - text: Sarah Johnson
      - gridcell "7/9/2025"
      - gridcell "22%"
      - gridcell "$6,500"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Optimize database queries (Sprint 24) Todo Critical â™»ï¸ Refactor James Wilson James Wilson 7/9/2025 16% $16,625":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Optimize database queries (Sprint 24)"
      - gridcell "Todo"
      - gridcell "Critical"
      - gridcell "â™»ï¸ Refactor"
      - gridcell "James Wilson James Wilson":
        - img "James Wilson"
        - text: James Wilson
      - gridcell "7/9/2025"
      - gridcell "16%"
      - gridcell "$16,625"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Set up log aggregation Testing Critical ðŸ”§ DevOps James Wilson James Wilson 7/9/2025 82% $625":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Set up log aggregation"
      - gridcell "Testing"
      - gridcell "Critical"
      - gridcell "ðŸ”§ DevOps"
      - gridcell "James Wilson James Wilson":
        - img "James Wilson"
        - text: James Wilson
      - gridcell "7/9/2025"
      - gridcell "82%"
      - gridcell "$625"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Clean up deprecated APIs (Sprint 23) In Review Critical â™»ï¸ Refactor Priya Sharma Priya Sharma 7/9/2025 63% $9,875":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Clean up deprecated APIs (Sprint 23)"
      - gridcell "In Review"
      - gridcell "Critical"
      - gridcell "â™»ï¸ Refactor"
      - gridcell "Priya Sharma Priya Sharma":
        - img "Priya Sharma"
        - text: Priya Sharma
      - gridcell "7/9/2025"
      - gridcell "63%"
      - gridcell "$9,875"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Implement service workers (Sprint 23) In Progress Critical âš¡ Performance Maya Patel Maya Patel 7/9/2025 22% $1,925":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Implement service workers (Sprint 23)"
      - gridcell "In Progress"
      - gridcell "Critical"
      - gridcell "âš¡ Performance"
      - gridcell "Maya Patel Maya Patel":
        - img "Maya Patel"
        - text: Maya Patel
      - gridcell "7/9/2025"
      - gridcell "22%"
      - gridcell "$1,925"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Fix broken deep links in navigation In Progress Medium ðŸ› Bug David Lee David Lee 7/9/2025 47% $4,700":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Fix broken deep links in navigation"
      - gridcell "In Progress"
      - gridcell "Medium"
      - gridcell "ðŸ› Bug"
      - gridcell "David Lee David Lee":
        - img "David Lee"
        - text: David Lee
      - gridcell "7/9/2025"
      - gridcell "47%"
      - gridcell "$4,700"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Implement session management (Performance Sprint) Blocked High ðŸ”’ Security JL Jessica Lopez 7/9/2025 34% $5,425":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Implement session management (Performance Sprint)"
      - gridcell "Blocked"
      - gridcell "High"
      - gridcell "ðŸ”’ Security"
      - gridcell "JL Jessica Lopez"
      - gridcell "7/9/2025"
      - gridcell "34%"
      - gridcell "$5,425"
    - row "Press Space to toggle row selection (unchecked) ï„ˆ Extract shared utilities module (Security Audit) In Progress High â™»ï¸ Refactor Priya Sharma Priya Sharma 7/9/2025 58% $500":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell "Extract shared utilities module (Security Audit)"
      - gridcell "In Progress"
      - gridcell "High"
      - gridcell "â™»ï¸ Refactor"
      - gridcell "Priya Sharma Priya Sharma":
        - img "Priya Sharma"
        - text: Priya Sharma
      - gridcell "7/9/2025"
      - gridcell "58%"
      - gridcell "$500"
  - rowgroup
  - rowgroup
  - rowgroup
  - rowgroup
  - rowgroup:
    - row:
      - gridcell
  - rowgroup:
    - row "Press Space to toggle row selection (unchecked) ï„ˆ $259,100":
      - gridcell "Press Space to toggle row selection (unchecked) ï„ˆ":
        - checkbox "Press Space to toggle row selection (unchecked)"
        - text: ï„ˆ
      - gridcell
      - gridcell
      - gridcell
      - gridcell
      - gridcell
      - gridcell
      - gridcell
      - gridcell "$259,100"
  - rowgroup
- tablist:
  - tab "Columns"
  - tab "Filters"
- status: "Rows : 70 of 10,000"
- status: "Total Rows : 10,000 Filtered : 70"
- status
```

# Test source

```ts
   1 | import { test, expect } from "@playwright/test";
   2 |
   3 | test.describe("Simple Filter Test", () => {
   4 |   test("should filter data when DateFilter is initialized with model", async ({
   5 |     page,
   6 |   }) => {
   7 |     // Enable console logging
   8 |     page.on("console", (msg) => {
   9 |       if (
   10 |         msg.text().includes("[DateFilter]") ||
   11 |         msg.text().includes("Row count")
   12 |       ) {
   13 |         console.log("BROWSER:", msg.text());
   14 |       }
   15 |     });
   16 |
   17 |     // Navigate to the demo page
   18 |     await page.goto("/demo");
   19 |
   20 |     // Wait for grid to be ready
   21 |     await page.waitForSelector(".ag-root-wrapper");
   22 |     await page.waitForTimeout(1000);
   23 |
   24 |     // Get initial row count and set a simple filter
   25 |     const result = await page.evaluate(async () => {
   26 |       const api = window.agGridApi;
   27 |       if (!api) return { error: "No API found" };
   28 |
   29 |       const initialRowCount = api.getDisplayedRowCount();
   30 |       console.log("Row count before filter:", initialRowCount);
   31 |
   32 |       // Get some sample dates from the grid
   33 |       const sampleDates: string[] = [];
   34 |       api.forEachNode((node, index) => {
   35 |         if (index < 5 && node.data && node.data.dueDate) {
   36 |           sampleDates.push(new Date(node.data.dueDate).toISOString());
   37 |         }
   38 |       });
   39 |
   40 |       // Set a filter for "Today" (which should match no rows since data is in the future)
   41 |       const filterModel = {
   42 |         dueDate: {
   43 |           mode: "relative",
   44 |           type: "equals",
   45 |           expressionFrom: "Today",
   46 |         },
   47 |       };
   48 |
   49 |       console.log("Setting filter model:", JSON.stringify(filterModel));
   50 |       api.setFilterModel(filterModel);
   51 |
   52 |       // Force grid to refresh
   53 |       api.onFilterChanged();
   54 |
   55 |       // Wait a bit for React to update
   56 |       await new Promise((resolve) => setTimeout(resolve, 500));
   57 |
   58 |       const finalRowCount = api.getDisplayedRowCount();
   59 |       console.log("Row count after filter:", finalRowCount);
   60 |
   61 |       // Get filter instance info
   62 |       const filterInstance = await api.getColumnFilterInstance("dueDate");
   63 |       const filterInstanceInfo = {
   64 |         hasInstance: !!filterInstance,
   65 |         hasDoesFilterPass: typeof filterInstance?.doesFilterPass === "function",
   66 |         currentModel: filterInstance?.getModel
   67 |           ? filterInstance.getModel()
   68 |           : null,
   69 |       };
   70 |
   71 |       return {
   72 |         initialRowCount,
   73 |         finalRowCount,
   74 |         filterChanged: initialRowCount !== finalRowCount,
   75 |         sampleDates,
   76 |         filterInstanceInfo,
   77 |         currentFilterModel: api.getFilterModel(),
   78 |       };
   79 |     });
   80 |
   81 |     console.log("Test result:", JSON.stringify(result, null, 2));
   82 |
   83 |     // The filter should have changed the row count
   84 |     expect(result.filterChanged).toBe(true);
   85 |
   86 |     // Since we're filtering for "Today" and all data is in the future,
   87 |     // we expect 0 rows
>  88 |     expect(result.finalRowCount).toBe(0);
      |                                  ^ Error: expect(received).toBe(expected) // Object.is equality
   89 |   });
   90 |
   91 |   test("should show some rows when filtering for future dates", async ({
   92 |     page,
   93 |   }) => {
   94 |     // Navigate to the demo page
   95 |     await page.goto("/demo");
   96 |
   97 |     // Wait for grid to be ready
   98 |     await page.waitForSelector(".ag-root-wrapper");
   99 |     await page.waitForTimeout(1000);
  100 |
  101 |     // Set a filter for future dates
  102 |     const result = await page.evaluate(async () => {
  103 |       const api = window.agGridApi;
  104 |       if (!api) return { error: "No API found" };
  105 |
  106 |       const initialRowCount = api.getDisplayedRowCount();
  107 |
  108 |       // Set a filter for dates after today (should include all future dates)
  109 |       const filterModel = {
  110 |         dueDate: {
  111 |           mode: "relative",
  112 |           type: "after",
  113 |           expressionFrom: "Today",
  114 |           fromInclusive: false,
  115 |         },
  116 |       };
  117 |
  118 |       api.setFilterModel(filterModel);
  119 |       api.onFilterChanged();
  120 |
  121 |       await new Promise((resolve) => setTimeout(resolve, 500));
  122 |
  123 |       const finalRowCount = api.getDisplayedRowCount();
  124 |
  125 |       return {
  126 |         initialRowCount,
  127 |         finalRowCount,
  128 |         filterChanged: initialRowCount !== finalRowCount,
  129 |         currentFilterModel: api.getFilterModel(),
  130 |       };
  131 |     });
  132 |
  133 |     console.log("Future dates test result:", JSON.stringify(result, null, 2));
  134 |
  135 |     // Since all data is in the future, filtering for "after Today" should keep most/all rows
  136 |     expect(result.finalRowCount).toBeGreaterThan(0);
  137 |   });
  138 | });
  139 |
```