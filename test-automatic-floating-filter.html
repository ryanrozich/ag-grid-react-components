<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Automatic Floating Filter</title>
    <style>
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        margin: 40px;
        background: #1a1a1a;
        color: #e0e0e0;
      }
      h1 {
        color: #60a5fa;
      }
      .section {
        background: #262626;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .test-grid {
        background: #fff;
        height: 400px;
        border-radius: 8px;
        overflow: hidden;
      }
      pre {
        background: #374151;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
        font-size: 14px;
      }
      .note {
        background: #312e2b;
        border-left: 4px solid #f59e0b;
        padding: 15px;
        margin: 15px 0;
      }
      code {
        background: #374151;
        padding: 2px 6px;
        border-radius: 3px;
      }
    </style>
  </head>
  <body>
    <h1>Testing Automatic Floating Filter with getModelAsString()</h1>

    <div class="section">
      <h2>Test Objective</h2>
      <p>
        Verify that AG Grid provides an automatic read-only floating filter
        when:
      </p>
      <ul>
        <li>✓ <code>floatingFilter: true</code> is set</li>
        <li>✓ NO <code>floatingFilterComponent</code> is specified</li>
        <li>✓ The filter implements <code>getModelAsString()</code></li>
      </ul>
    </div>

    <div class="section">
      <h2>Current Configuration</h2>
      <pre>
{
  field: "date",
  filter: RelativeDateFilter,
  floatingFilter: true,
  floatingFilterComponent: RelativeDateFloatingFilter  // ← We want to remove this
}</pre
      >
    </div>

    <div class="section">
      <h2>Proposed Configuration</h2>
      <pre>
{
  field: "date",
  filter: RelativeDateFilter,
  floatingFilter: true
  // No floatingFilterComponent - rely on getModelAsString()
}</pre
      >
    </div>

    <div class="note">
      <h3>Expected Behavior</h3>
      <p>
        Since RelativeDateFilter implements <code>getModelAsString()</code>, AG
        Grid should automatically provide a read-only floating filter that
        displays the string representation of the active filter.
      </p>
    </div>

    <div class="section">
      <h2>Benefits of This Approach</h2>
      <ol>
        <li>
          <strong>Single Component:</strong> Only maintain RelativeDateFilter
        </li>
        <li>
          <strong>Automatic Sync:</strong> No manual synchronization needed
        </li>
        <li>
          <strong>Less Code:</strong> Remove RelativeDateFloatingFilter.tsx
          entirely
        </li>
        <li>
          <strong>Consistent Behavior:</strong> Filter works the same in column
          header and tool panel
        </li>
      </ol>
    </div>

    <div class="section">
      <h2>Testing Steps</h2>
      <ol>
        <li>Open the demo: <code>npm run dev</code></li>
        <li>Navigate to the demo page</li>
        <li>
          Find a date column and verify:
          <ul>
            <li>Column filter menu works correctly</li>
            <li>Floating filter shows the filter state (read-only)</li>
            <li>Filter tool panel shows the same filter</li>
            <li>All three are synchronized</li>
          </ul>
        </li>
      </ol>
    </div>

    <div class="section">
      <h2>Implementation Notes</h2>
      <p>
        The <code>getModelAsString()</code> method in RelativeDateFilter already
        returns formatted strings like:
      </p>
      <ul>
        <li><code>"= 2024-01-15"</code> for equals filter</li>
        <li><code>"[Today-7d to Today]"</code> for inclusive range</li>
        <li><code>"(StartOfMonth to EndOfMonth)"</code> for exclusive range</li>
        <li><code>"> Today-30d"</code> for after filter</li>
      </ul>
      <p>This should display nicely in the automatic floating filter.</p>
    </div>
  </body>
</html>
