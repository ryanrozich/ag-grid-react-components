<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Avatar Cell Renderer Demo</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        margin: 20px;
        background: #f5f5f5;
      }
      .demo-container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
        margin-bottom: 20px;
      }
      .info {
        background: #e3f2fd;
        padding: 12px 16px;
        border-radius: 4px;
        margin-bottom: 20px;
        color: #0d47a1;
      }
      .avatar-demo {
        display: flex;
        align-items: center;
        gap: 20px;
        margin: 20px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
      }
      .avatar-demo img {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        border: 2px solid #e0e0e0;
      }
      .avatar-demo .fallback {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 18px;
        border: 2px solid #e0e0e0;
      }
      .avatar-examples {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 16px;
        margin-top: 20px;
      }
      .avatar-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        transition: all 0.2s;
      }
      .avatar-item:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }
      .avatar-item img {
        width: 40px;
        height: 40px;
        border-radius: 50%;
      }
      .avatar-item .name {
        font-weight: 500;
        color: #333;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <h1>Avatar Cell Renderer Demo</h1>

      <div class="info">
        ℹ️ The Avatar Cell Renderer displays user avatars with initials as
        fallback. It uses the UI Avatars API to generate consistent, colorful
        avatars based on user names.
      </div>

      <h2>Features:</h2>
      <ul>
        <li>Automatic avatar generation from names using UI Avatars API</li>
        <li>Consistent color assignment based on name (deterministic)</li>
        <li>Professional color palette (10 distinct colors)</li>
        <li>Initials fallback when images fail to load</li>
        <li>Smooth hover effects</li>
        <li>Optimized performance with React memoization</li>
        <li>Works seamlessly with AG Grid sorting, filtering, and grouping</li>
      </ul>

      <h2>Example Avatars:</h2>
      <div class="avatar-examples" id="avatarExamples"></div>

      <h2>How it works:</h2>
      <div class="avatar-demo">
        <div>
          <strong>1. With Image:</strong>
          <img
            src="https://ui-avatars.com/api/?name=John+Doe&background=2563eb&color=fff&size=48&bold=true&format=svg"
            alt="John Doe"
          />
        </div>
        <div>
          <strong>2. Fallback (Initials):</strong>
          <div class="fallback" style="background-color: #2563eb">JD</div>
        </div>
      </div>

      <h2>Usage in AG Grid:</h2>
      <pre
        style="
          background: #f5f5f5;
          padding: 16px;
          border-radius: 8px;
          overflow-x: auto;
        "
      >
{
  field: "assignee",
  headerName: "Assignee",
  width: 200,
  cellRenderer: AvatarCellRenderer,
  autoHeight: true,
}
        </pre
      >
    </div>

    <script>
      // Sample assignees
      const assignees = [
        "Alex Chen",
        "Sarah Johnson",
        "Marcus Williams",
        "Emma Davis",
        "James Wilson",
        "Maya Patel",
        "Chris Martinez",
        "Olivia Brown",
        "David Lee",
        "Sophia Taylor",
        "Michael Anderson",
        "Isabella Garcia",
      ];

      // Color palette
      const colors = [
        "2563eb", // blue-600
        "7c3aed", // violet-600
        "db2777", // pink-600
        "dc2626", // red-600
        "ea580c", // orange-600
        "16a34a", // green-600
        "0891b2", // cyan-600
        "9333ea", // purple-600
        "0d9488", // teal-600
        "059669", // emerald-600
      ];

      // Generate color from name (same logic as React component)
      function generateColorFromName(name) {
        let hash = 0;
        for (let i = 0; i < name.length; i++) {
          hash = name.charCodeAt(i) + ((hash << 5) - hash);
        }
        const index = Math.abs(hash) % colors.length;
        return colors[index];
      }

      // Render avatars
      const container = document.getElementById("avatarExamples");
      assignees.forEach((name) => {
        const color = generateColorFromName(name);
        const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=${color}&color=fff&size=40&bold=true&format=svg`;

        const item = document.createElement("div");
        item.className = "avatar-item";
        item.innerHTML = `
                <img src="${avatarUrl}" alt="${name}">
                <span class="name">${name}</span>
            `;
        container.appendChild(item);
      });
    </script>
  </body>
</html>
